---
apiVersion: v1
kind: Service
metadata:
  labels:
    app: keycloak
  name: keycloak-discovery
  namespace: {{ .Values.namespace }}
spec:
  clusterIP: None
  clusterIPs:
    - None
  internalTrafficPolicy: Cluster
  ipFamilies:
    - IPv4
  ipFamilyPolicy: SingleStack
  ports:
    - port: 7800
      protocol: TCP
      targetPort: 7800
      name: discovery
  selector:
    app: keycloak
  sessionAffinity: None
  type: ClusterIP
